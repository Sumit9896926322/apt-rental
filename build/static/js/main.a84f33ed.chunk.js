(this["webpackJsonpapt-rental-client"]=this["webpackJsonpapt-rental-client"]||[]).push([[0],{157:function(e,t,a){},158:function(e,t,a){},205:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(16),s=a.n(c),i=(a(157),a.p,a(158),a(18)),o=a(32),u=a(26),l=a(48),d=a(6),j=a.n(d),p=a(10),b=a(7),m=a(5),O=a(246),h=a(133),f=a(278),x=a(247),v=a(248),g=a(129),k=a.n(g),y=a(128),C=a.n(y),w=a(15),S=a(25),U=a(19),A=a(22),N=a(17),T=Object(N.b)({}),I=(Object(N.b)(!1),Object(N.b)([])),W=Object(N.b)([]),_=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;Object(U.a)(this,e),this.data=t,this.message=a,this.httpCode=r,this.success=!!t||r<400}return Object(A.a)(e,null,[{key:"success",value:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Successfull",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200;return new e(t,a,r)}},{key:"error",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Network error",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;return new e(void 0,t,a)}}]),e}(),L=a(74),D=a.n(L),M=a(75),z=a.n(M),q=function(){function e(){Object(U.a)(this,e)}return Object(A.a)(e,null,[{key:"get",value:function(){var e=Object(p.a)(j.a.mark((function e(t){var a,r,n,c,s,i,o,u,l,d;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.url,r=void 0===a?"":a,n=t.queryParams,c=void 0===n?{}:n,s=t.headers,i={params:c,headers:void 0===s?{}:s},e.next=4,z()(D.a.get(r,i));case 4:if(o=e.sent,u=Object(b.a)(o,2),l=u[0],d=u[1],!l){e.next=14;break}if(!l.response){e.next=13;break}return e.abrupt("return",_.error(l.response.data.message,l.response.status));case 13:return e.abrupt("return",_.error(l));case 14:return e.abrupt("return",_.success(d.data.data,d.data.message));case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"post",value:function(){var e=Object(p.a)(j.a.mark((function e(t){var a,r,n,c,s,i,o,u,l,d,p,m;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.url,r=void 0===a?"":a,n=t.queryParams,c=void 0===n?{}:n,s=t.data,i=void 0===s?{}:s,o=t.headers,u={params:c,headers:void 0===o?{}:o},e.next=4,z()(D.a.post(r,i,u));case 4:if(l=e.sent,d=Object(b.a)(l,2),p=d[0],m=d[1],!p){e.next=14;break}if(!p.response){e.next=13;break}return e.abrupt("return",_.error(p.response.data.message,p.response.status));case 13:return e.abrupt("return",_.error(p));case 14:return e.abrupt("return",_.success(m.data.data,m.data.message));case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(p.a)(j.a.mark((function e(t){var a,r,n,c,s,i,o,u,l,d,p,m;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.url,r=void 0===a?"":a,n=t.queryParams,c=void 0===n?{}:n,s=t.headers,i=void 0===s?{}:s,o=t.data,u={params:c,headers:i,data:void 0===o?{}:o},console.log(i),e.next=5,z()(D.a.delete(r,u));case 5:if(l=e.sent,d=Object(b.a)(l,2),p=d[0],m=d[1],!p){e.next=15;break}if(!p.response){e.next=14;break}return e.abrupt("return",_.error(p.response.data.message,p.response.status));case 14:return e.abrupt("return",_.error(p));case 15:return e.abrupt("return",_.success(m.data.data,m.data.message));case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"put",value:function(){var e=Object(p.a)(j.a.mark((function e(t){var a,r,n,c,s,i,o,u,l,d,p,m;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.url,r=void 0===a?"":a,n=t.queryParams,c=void 0===n?{}:n,s=t.data,i=void 0===s?{}:s,o=t.headers,u={params:c,headers:void 0===o?{}:o},e.next=4,z()(D.a.put(r,i,u));case 4:if(l=e.sent,d=Object(b.a)(l,2),p=d[0],m=d[1],!p){e.next=14;break}if(!p.response){e.next=13;break}return e.abrupt("return",_.error(p.response.data.message,p.response.status));case 13:return e.abrupt("return",_.error(p));case 14:return e.abrupt("return",_.success(m.data.data,m.data.message));case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),P=function e(){Object(U.a)(this,e)};P.loginUrl="".concat(P.basePath="http://localhost:5000","/api/v1/user/login"),P.getApartmentsUrl="".concat(P.basePath,"/api/v1/apartment"),P.deleteApartmentUrl="".concat(P.basePath,"/api/v1/apartment/"),P.addApartmentUrl="".concat(P.basePath,"/api/v1/apartment/"),P.getCurrentUserUrl="".concat(P.basePath,"/api/v1/user/current"),P.getUsersUrl="".concat(P.basePath,"/api/v1/user/"),P.createUserUrl="".concat(P.basePath,"/api/v1/user/signup"),P.deleteUsersUrl="".concat(P.basePath,"/api/v1/user/"),P.updateUsersUrl="".concat(P.basePath,"/api/v1/user/"),P.updateApartmentUrl="".concat(P.basePath,"/api/v1/apartment/");var R=P,E=function(){function e(){Object(U.a)(this,e)}return Object(A.a)(e,null,[{key:"login",value:function(){var e=Object(p.a)(j.a.mark((function e(t){var a,r,n,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.email,r=void 0===a?"":a,n=t.password,c=void 0===n?"":n,e.abrupt("return",q.post({url:R.loginUrl,data:{email:r,password:c}}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getCurrentUser",value:function(){var e=Object(p.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",q.get({url:R.getCurrentUserUrl,headers:B.getHeaders()}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getUsers",value:function(){var e=Object(p.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",q.get({url:R.getUsersUrl,headers:B.getHeaders(),queryParams:{page:t}}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"createUser",value:function(){var e=Object(p.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",q.post({url:R.createUserUrl,data:t,headers:B.getHeaders()}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteUser",value:function(){var e=Object(p.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",q.delete({url:"".concat(R.deleteUsersUrl).concat(t.uuid),headers:B.getHeaders()}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateUser",value:function(){var e=Object(p.a)(j.a.mark((function e(t,a){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",q.put({url:"".concat(R.updateUsersUrl).concat(a),data:t,headers:B.getHeaders()}));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()}]),e}(),F=function(){function e(){Object(U.a)(this,e)}return Object(A.a)(e,null,[{key:"getHeaders",value:function(){return{jwttoken:this.getJWTToken()}}},{key:"getJWTToken",value:function(){return this.jwtToken||localStorage.getItem("jwtToken")}},{key:"clearJWTToken",value:function(){this.jwtToken=null,localStorage.removeItem("jwtToken"),this.currentUser=null}},{key:"setJWTToken",value:function(){var e=Object(p.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.jwtToken=t,localStorage.setItem("jwtToken",t),e.next=4,this.getCurrentUser();case 4:this.currentUser=e.sent;case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getCurrentUser",value:function(){var e=Object(p.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.getCurrentUser();case 2:if((t=e.sent).success){e.next=5;break}return e.abrupt("return");case 5:return e.abrupt("return",t.data.authUser);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}();F.jwtToken=null;var B=F,H=["Min size","Max size","Min rooms","Max rooms","Min price","Max price"],V=function e(){Object(U.a)(this,e)};V.ADMIN="admin",V.CLIENT="client",V.REALTOR="realtor";var G=function e(){Object(U.a)(this,e)};G.ApartmentDeletedSuccess="Apartment deleted successfully",G.SignInSuccess="User signed in successfully",G.ApartMentCreatedSuccess="Apartment Created successfully",G.ApartMentUpdatedSuccess="Apartment Updated successfully",G.userDeltedSuccess="User Deleted successfully",G.userUpdateSuccess="User Updated successfully",G.userCreatedSuccess="User Created successfully",G.userLoggedOutSuccess="User Logged out successfully";var J=function e(){Object(U.a)(this,e)};J.CreateApartment="create-apartment",J.UpdateApartment="update-aparment";var K=function e(){Object(U.a)(this,e)};K.CreateUser="create-user",K.UpdateUser="update-user";var Q=function e(){Object(U.a)(this,e)};Q.MapView="mapView",Q.ListView="listView;";var Y=function e(){Object(U.a)(this,e)};Y.Home="/",Y.SignIn="/signin;";var X=function e(){Object(U.a)(this,e)};X.PaginationLimit=100,X.min_size=100,X.max_size=1e5,X.min_price=100,X.max_price=1e4,X.min_rooms=1,X.max_rooms=50;var Z=function e(){Object(U.a)(this,e)};Z.LoadMore="loadmore",Z.LoadFirst="loadfirst";var $=a(1),ee=Object(m.a)({paper:{border:"1px solid #d3d4d5"}})((function(e){return Object($.jsx)(h.a,Object(l.a)({elevation:0,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},e))})),te=Object(m.a)((function(e){return{root:{"&:focus":{backgroundColor:e.palette.primary.main,"& .MuiListItemIcon-root, & .MuiListItemText-primary":{color:e.palette.common.white}}}}}))(f.a);function ae(e){var t=n.a.useState(null),a=Object(b.a)(t,2),r=a[0],c=a[1],s=Object(N.c)(T),o=Object(b.a)(s,2),u=(o[0],o[1]);return Object($.jsxs)("div",{children:[Object($.jsx)(O.a,{"aria-controls":"customized-menu","aria-haspopup":"true",variant:"contained",color:"white",onClick:function(e){c(e.currentTarget)},children:"My Profile"}),Object($.jsxs)(ee,{id:"customized-menu",anchorEl:r,keepMounted:!0,open:Boolean(r),onClose:function(){c(null)},children:[Object($.jsxs)(te,{children:[Object($.jsx)(x.a,{children:Object($.jsx)(C.a,{fontSize:"small"})}),Object($.jsx)(v.a,{primary:e.name})]}),Object($.jsx)(S.b,{to:"/signin",variant:"body2",style:{textDecoration:" none",color:"black"},onClick:function(){return B.clearJWTToken(),u({}),i.a.success(G.userLoggedOutSuccess,{position:"top-right",autoClose:3e3,closeOnClick:!0}),Object($.jsx)(w.a,{to:{pathname:"/signin"}})},children:Object($.jsxs)(te,{children:[Object($.jsx)(x.a,{children:Object($.jsx)(k.a,{fontSize:"small"})}),Object($.jsx)(v.a,{primary:"Log Out",children:" "})]})})]})]})}var re=a(259),ne=a(261),ce=a(264),se=a(263),ie=a(262),oe=a(252),ue=a(253),le=a(260),de=a(77),je=a(251),pe=a(89),be=a.n(pe),me=a(132),Oe=a.n(me),he=a(131),fe=a.n(he),xe=a(249),ve=Object(xe.a)((function(e){return{appbar:{marginBottom:"250px",color:"black"},icon:{marginRight:e.spacing(2),cursor:"pointer"},title:{flexGrow:1},heroContent:{backgroundColor:e.palette.background.paper,padding:e.spacing(8,0,6)},heroButtons:{marginTop:e.spacing(4)},cardGrid:{paddingTop:e.spacing(8),paddingBottom:e.spacing(8)},card:{height:"100%",display:"flex",flexDirection:"column"},cardMedia:{paddingTop:"56.25%"},cardContent:{flexGrow:1},footer:{backgroundColor:e.palette.background.paper,padding:e.spacing(6)},link:{textDecoration:"none"},filterOptions:{margin:"50px 0px"},filter:{margin:"0px 10px",maxWidth:"160px"}}})),ge=Object(xe.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,padding:e.spacing(2,4,3)},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},button:{display:"block",marginTop:e.spacing(2)},formControl:{margin:e.spacing(1),minWidth:120}}})),ke=(Object(xe.a)((function(e){return{table:{minWidth:650}}})),function(){function e(){Object(U.a)(this,e)}return Object(A.a)(e,null,[{key:"getApartments",value:function(){var e=Object(p.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",q.get({url:R.getApartmentsUrl,queryParams:t,headers:B.getHeaders()}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteApartment",value:function(){var e=Object(p.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",q.delete({url:"".concat(R.deleteApartmentUrl).concat(t),headers:B.getHeaders()}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"addApartment",value:function(){var e=Object(p.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",q.post({url:R.addApartmentUrl,headers:B.getHeaders(),data:t}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateApartment",value:function(){var e=Object(p.a)(j.a.mark((function e(t,a){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",q.put({url:"".concat(R.updateApartmentUrl).concat(t),headers:B.getHeaders(),data:a}));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()}]),e}()),ye=a(275),Ce=a(258),we=a(271),Se=function(){function e(){Object(U.a)(this,e)}return Object(A.a)(e,null,[{key:"allowAdmin",value:function(e){return e.role===V.ADMIN}},{key:"allowAdminAndRealtor",value:function(e){return e===V.ADMIN||e===V.REALTOR}},{key:"canRealtorUpdatOrDelete",value:function(e,t){return e.uuid==t.userId}},{key:"canGetUsers",value:function(e){return this.allowAdmin(e)}},{key:"canGetUser",value:function(e){return this.allowAdmin(e)}},{key:"canDeleteUser",value:function(e){return this.allowAdmin(e)}},{key:"canUpdatUser",value:function(e){return this.allowAdmin(e)}},{key:"canAddApartment",value:function(e){return e.role===V.ADMIN||e.role===V.REALTOR}},{key:"canUpdateApartment",value:function(e){return this.allowAdminAndRealtor(e)}},{key:"canDeleteApartment",value:function(e){return this.allowAdminAndRealtor(e)}},{key:"canUpdateOrDeleteApartment",value:function(e,t){return e.role===V.REALTOR&&e.uuid==t.userId||e.role===V.ADMIN}},{key:"canSignupAdmin",value:function(e){return this.allowAdmin(e)}}]),e}(),Ue=a(90),Ae=a.n(Ue),Ne=(a(101),a(273)),Te=a(250),Ie=a(70),We=a.n(Ie),_e=a(257),Le=a(272),De=a(60),Me=a.n(De),ze=a(11),qe=ze.object({name:ze.string().min(3).required(),description:ze.string().min(6).required(),rooms:ze.number().min(1).max(50).required(),price:ze.number().min(100).max(1e4).required(),floorSize:ze.number().min(100).max(1e5).required(),latitude:ze.number().min(-90).max(90).required(),longitude:ze.number().min(-180).max(180)}),Pe=ze.object({name:ze.string().min(3),description:ze.string().min(6),rooms:ze.number().min(1).max(50),price:ze.number().min(100).max(1e4),floorSize:ze.number().min(100).max(1e5),latitude:ze.number().min(-90).max(90),longitude:ze.number().min(-180).max(180),available:ze.boolean()}),Re=ze.object({min_size:ze.number().min(X.min_size).max(X.max_size),max_size:ze.number().min(X.min_size).max(X.max_size),min_price:ze.number().min(X.min_price).max(X.max_price),max_price:ze.number().min(X.min_price).max(X.max_price),min_rooms:ze.number().min(X.min_rooms).max(X.max_rooms),max_rooms:ze.number().min(X.min_rooms).max(X.max_rooms)}),Ee=function(){function e(){Object(U.a)(this,e)}return Object(A.a)(e,null,[{key:"validateCreateApartment",value:function(e){return ze.validate(e,qe)}},{key:"validateUpdateApartment",value:function(e){return ze.validate(e,Pe)}},{key:"validateFilterApartment",value:function(e){return ze.validate(e,Re)}}]),e}();function Fe(e){var t=ge(),a=Object(N.c)(I),c=Object(b.a)(a,2),s=c[0],o=c[1],l=Object(r.useState)(""),d=Object(b.a)(l,2),m=d[0],h=d[1],f=Object(r.useState)(""),x=Object(b.a)(f,2),v=x[0],g=x[1],k=Object(r.useState)(0),y=Object(b.a)(k,2),C=y[0],w=y[1],S=Object(r.useState)(0),U=Object(b.a)(S,2),A=U[0],T=U[1],W=Object(r.useState)(0),_=Object(b.a)(W,2),L=_[0],D=_[1],M=Object(r.useState)(""),z=Object(b.a)(M,2),q=z[0],P=z[1],R=Object(r.useState)(""),E=Object(b.a)(R,2),F=E[0],B=E[1],H=Object(r.useState)(""),V=Object(b.a)(H,2),K=V[0],Q=V[1],Y=Object(r.useState)(!1),X=Object(b.a)(Y,2),Z=X[0],ee=X[1],te=Object(r.useState)(!1),ae=Object(b.a)(te,2),re=ae[0],ne=ae[1],ce=n.a.useState(!1),se=Object(b.a)(ce,2),ie=se[0],le=se[1],pe=function(){le(!0)},be=function(){le(!1),Q(""),ee(!1)},me=function(){var e=Object(p.a)(j.a.mark((function e(t,a){var r,n,c,u,l;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),r=Object.assign({},""==m?null:{name:m},""==v?null:{description:v},0==L?null:{floorSize:L},0==C?null:{price:C},0==A?null:{rooms:A},""==q?null:{latitude:q},""==F?null:{longitude:F},{available:Z}),n=Ee.validateUpdateApartment(r),c=n.error,n.value,!c){e.next=7;break}Q(c.details[0].message),e.next=19;break;case 7:return Q(""),ne(!0),e.next=11,ke.updateApartment(a,r);case 11:if(u=e.sent,ne(!1),u.success){e.next=15;break}return e.abrupt("return");case 15:l=s.map((function(e){return e.uuid===a?u.data:e})),o(l),i.a.success(G.ApartMentUpdatedSuccess,{position:"top-right",autoClose:3e3,closeOnClick:!0}),be();case 19:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Oe=function(){var e=Object(p.a)(j.a.mark((function e(t){var a,r,n,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a={name:m,description:v,floorSize:L,price:C,rooms:A,latitude:q,longitude:F},r=Ee.validateCreateApartment(a),n=r.error,r.value,!n){e.next=7;break}Q(n.details[0].message),e.next=18;break;case 7:return Q(""),ne(!0),e.next=11,ke.addApartment(a);case 11:if(c=e.sent,ne(!1),c.success){e.next=15;break}return e.abrupt("return");case 15:o([].concat(Object(u.a)(s),[c.data])),i.a.success(G.ApartMentCreatedSuccess,{position:"top-right",autoClose:3e3,closeOnClick:!0}),be();case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object($.jsxs)("div",{children:[e.action==J.CreateApartment?Object($.jsxs)(O.a,{variant:"contained",color:"secondary",onClick:pe,children:[Object($.jsx)(We.a,{className:t.icon,fontSize:"large"}),"Create New Apartment"]}):Object($.jsx)(Me.a,{className:t.icon,fontSize:"large",color:"primary",cursor:"pointer",onClick:pe}),Object($.jsx)(Ne.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:t.modal,open:ie,onClose:be,closeAfterTransition:!0,BackdropProps:{timeout:500},children:Object($.jsx)(Te.a,{in:ie,children:Object($.jsx)("div",{className:t.paper,children:Object($.jsxs)(je.a,{component:"main",maxWidth:"xs",children:[Object($.jsx)(oe.a,{}),Object($.jsxs)("div",{className:t.paper,children:[Object($.jsx)(de.a,{component:"h1",variant:"h5",children:e.action==J.CreateApartment?"Create Apartment":"Update Apartment"}),Object($.jsxs)("form",{className:t.form,noValidate:!0,children:[Object($.jsxs)(ue.a,{container:!0,spacing:2,children:[Object($.jsx)(ue.a,{item:!0,xs:12,children:Object($.jsx)(ye.a,{autoComplete:"name",variant:"outlined",required:!0,fullWidth:!0,label:"Name",multiline:"true",autoFocus:!0,onChange:function(e){return h(e.target.value)}})}),Object($.jsx)(ue.a,{item:!0,xs:12,children:Object($.jsx)(ye.a,{autoComplete:"description",variant:"outlined",required:!0,fullWidth:!0,label:"Description",multiline:"true",autoFocus:!0,onChange:function(e){return g(e.target.value)}})}),Object($.jsx)(ue.a,{item:!0,xs:12,sm:6,children:Object($.jsx)(ye.a,{autoComplete:"rooms",variant:"outlined",required:!0,fullWidth:!0,label:"Rooms",autoFocus:!0,onChange:function(e){return T(e.target.value)}})}),Object($.jsx)(ue.a,{item:!0,xs:12,sm:6,children:Object($.jsx)(ye.a,{variant:"outlined",required:!0,fullWidth:!0,label:"Price",autoComplete:"Price",onChange:function(e){return w(e.target.value)}})}),Object($.jsx)(ue.a,{item:!0,xs:12,children:Object($.jsx)(ye.a,{variant:"outlined",required:!0,fullWidth:!0,label:"Floor Size",autoComplete:"Floor Size",onChange:function(e){return D(e.target.value)}})}),Object($.jsx)(ue.a,{item:!0,xs:12,sm:6,children:Object($.jsx)(ye.a,{autoComplete:"longitude",name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"Longitude",autoFocus:!0,onChange:function(e){return B(e.target.value)}})}),Object($.jsx)(ue.a,{item:!0,xs:12,sm:6,children:Object($.jsx)(ye.a,{variant:"outlined",required:!0,fullWidth:!0,label:"Latitude",autoComplete:"latitude",onChange:function(e){return P(e.target.value)}})}),Object($.jsx)(ue.a,{item:!0,xs:12,sm:6,children:e.action==J.UpdateApartment?Object($.jsx)(_e.a,{control:Object($.jsx)(Le.a,{color:"primary"}),label:"Available",value:Z,onChange:function(e){ee(e.target.checked)}}):""})]}),Object($.jsx)(we.a,{color:"error.main",children:K}),Object($.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[re?Object($.jsx)(Ce.a,{}):""," ;"]}),Object($.jsx)(O.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:function(t){return e.action===J.CreateApartment?Oe(t):me(t,e.apartmentId)},children:e.action==J.CreateApartment?"Create Apartment":"Update Apartment"})]})]}),Object($.jsx)(we.a,{mt:5})]})})})})]})}var Be=a(276),He=a(130),Ve=a.n(He),Ge=a(76);a(187).config();var Je={width:"70%",height:"90%"},Ke=function(e){return e.map((function(e,t){return Object($.jsx)(Ge.Marker,{id:t,position:{lat:e.latitude,lng:e.longitude},onClick:function(){return console.log("You clicked me!")}},e.uuid)}))},Qe=Object(Ge.GoogleApiWrapper)({apiKey:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).googleMapApiKey})((function(e){var t=Object(N.c)(I),a=Object(b.a)(t,2),n=(a[0],a[1]);Object(r.useEffect)(Object(p.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c();case 1:case"end":return e.stop()}}),e)}))),[]);var c=function(){var e=Object(p.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke.getApartments();case 2:if((t=e.sent).success){e.next=5;break}return e.abrupt("return");case 5:n(t.data);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object($.jsxs)("div",{style:{width:"100%",height:"550px"},children:[Object($.jsx)(Ge.Map,{google:e.google,zoom:20,style:Je,initialCenter:{lat:28.56197,lng:77.16463},children:Ke(e.apartments)}),e.apartments.map((function(e){Ge.Marker,e.uuid,e.latitude,e.longitude,e.uuid}))]})}));function Ye(){var e,t=ve(),a=Object(r.useState)(1),c=Object(b.a)(a,2),s=c[0],d=c[1],m=Object(N.c)(T),h=Object(b.a)(m,2),f=h[0],x=h[1],v=Object(N.c)(I),g=Object(b.a)(v,2),k=g[0],y=g[1],C=Object(r.useState)(Q.ListView),w=Object(b.a)(C,2),U=w[0],A=w[1],W=Object(r.useState)(!1),_=Object(b.a)(W,2),L=_[0],D=_[1],M=Object(r.useState)(""),z=Object(b.a)(M,2),q=z[0],P=z[1],R=Object(r.useState)(""),F=Object(b.a)(R,2),V=F[0],K=F[1],Y=Object(r.useState)(""),X=Object(b.a)(Y,2),ee=X[0],te=X[1],pe=Object(r.useState)(""),me=Object(b.a)(pe,2),he=me[0],xe=me[1],ge=Object(r.useState)(""),Ue=Object(b.a)(ge,2),Ne=Ue[0],Te=Ue[1],Ie=Object(r.useState)(""),We=Object(b.a)(Ie,2),_e=We[0],Le=We[1];Object(r.useEffect)(Object(p.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!B.getJWTToken()){e.next=8;break}return e.next=3,De();case 3:t=e.sent,x(t),t.username&&Me(s,Z.LoadFirst),e.next=9;break;case 8:x({});case 9:console.log(k);case 10:case"end":return e.stop()}}),e)}))),[]);var De=function(){var e=Object(p.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.getCurrentUser();case 2:if((t=e.sent).success){e.next=6;break}return i.a.error(t.message,{position:"top-right",autoClose:3e3,closeOnClick:!0}),e.abrupt("return",t.data);case 6:return e.abrupt("return",t.data.authUser);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Me=function(){var e=Object(p.a)(j.a.mark((function e(t,a){var r,n,c,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Object.assign({},""==q?null:{min_size:q},""==V?null:{max_size:V},""==ee?null:{min_price:ee},""==he?null:{max_price:he},""==Ne?null:{min_rooms:Ne},""==_e?null:{max_rooms:_e}),n=Ee.validateFilterApartment(r),c=n.error,n.value,!c){e.next=6;break}i.a.error(c.details[0].message,{position:"top-right",autoClose:3e3,closeOnClick:!0}),e.next=15;break;case 6:return D(!0),e.next=9,ke.getApartments(Object(l.a)(Object(l.a)({},r),{},{page:t}));case 9:if(s=e.sent,D(!1),s.success){e.next=14;break}return i.a.error(s.message,{position:"top-right",autoClose:3e3,closeOnClick:!0}),e.abrupt("return");case 14:y(a==Z.LoadFirst?s.data:[].concat(Object(u.a)(k),Object(u.a)(s.data)));case 15:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ze=function(){var e=Object(p.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke.deleteApartment(t.uuid);case 2:if(e.sent.success){e.next=5;break}return e.abrupt("return");case 5:i.a.success(G.ApartmentDeletedSuccess,{position:"top-right",autoClose:3e3,closeOnClick:!0}),y(k.filter((function(e){return e.uuid!==t.uuid})));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object($.jsxs)(n.a.Fragment,{children:[Object($.jsx)(oe.a,{}),Object($.jsx)(re.a,{position:"relative",children:Object($.jsxs)(le.a,{children:[Object($.jsx)(S.b,{to:"/",style:{color:"white"},children:Object($.jsx)(be.a,{className:t.icon,fontSize:"large"})}),Object($.jsx)(de.a,{variant:"h6",color:"inherit",className:t.title,noWrap:!0,children:"Appartment Finder"}),Object($.jsx)(ae,{name:f.username})]})}),Object($.jsxs)("main",{children:[Object($.jsxs)("div",{className:t.heroContent,children:[Se.canAddApartment(f)?Object($.jsx)(we.a,{m:3,mt:0,mb:5,children:Object($.jsxs)(ue.a,(e={container:!0,spacing:3,direction:"row",justify:"flex-end",alignItems:"center"},Object(o.a)(e,"spacing","4"),Object(o.a)(e,"xs",9),Object(o.a)(e,"sm",12),Object(o.a)(e,"md",12),Object(o.a)(e,"lg",12),Object(o.a)(e,"children",[Se.canGetUsers(f)?Object($.jsx)(ue.a,{item:!0,children:Object($.jsx)(S.b,{to:"/users",variant:"body2",className:t.link,children:Object($.jsxs)(O.a,{variant:"contained",color:"secondary",children:[Object($.jsx)(Ve.a,{className:t.icon,fontSize:"large"}),"Manage Users"]})})}):"",Object($.jsx)(Fe,{action:J.CreateApartment})]),e))}):"",Object($.jsxs)(je.a,{maxWidth:"sm",children:[Object($.jsx)(de.a,{component:"h1",variant:"h2",align:"center",color:"textPrimary",gutterBottom:!0,children:"Apartment Finder"}),Object($.jsx)(de.a,{variant:"h5",align:"center",color:"textSecondary",paragraph:!0,children:"Luxury appartment for rent nearby at reasonable price.."}),Object($.jsx)("div",{className:t.heroButtons,children:Object($.jsxs)(ue.a,{container:!0,spacing:2,justify:"center",children:[Object($.jsx)(ue.a,{item:!0,children:Object($.jsxs)(O.a,{variant:"contained",color:"primary",onClick:function(){return A(Q.ListView)},children:[Object($.jsx)(fe.a,{className:t.icon}),"Apartment on List"]})}),Object($.jsx)(ue.a,{item:!0,children:Object($.jsxs)(O.a,{gutterBottom:!0,variant:"outlined",color:"primary",onClick:function(){return A(Q.MapView)},children:[Object($.jsx)(Oe.a,{className:t.icon}),"Apartment on Map"]})})]})})]}),Object($.jsxs)(je.a,{children:[Object($.jsx)(we.a,{className:t.filterOptions,children:H.map((function(e,a){return Object($.jsx)(ye.a,{id:"filled-number",label:e,type:"number",className:t.filter,InputProps:{inputProps:{min:0}},onChange:function(t){return function(e,t){var a=e.target.value;switch(t){case H[0]:P(a);break;case H[1]:K(a);break;case H[2]:Te(a);break;case H[3]:Le(a);break;case H[4]:te(a);break;case H[5]:xe(a)}}(t,e)}})}))}),Object($.jsx)(O.a,{variant:"contained",color:"secondary",onClick:function(e){return function(e){e.preventDefault(),d(1),Me(1,Z.LoadFirst)}(e)},children:"Search"})]})]}),Object($.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:L?Object($.jsx)(Ce.a,{}):""}),Object($.jsx)(je.a,{className:t.cardGrid,maxWidth:"md",children:U===Q.ListView?Object($.jsx)(ue.a,{container:!0,spacing:8,children:k.map((function(e){return Object($.jsx)(ue.a,{item:!0,xs:12,sm:6,md:4,lg:6,children:Object($.jsxs)(ne.a,{className:t.card,children:[Object($.jsx)(ie.a,{className:t.cardMedia,image:"https://www.investopedia.com/thmb/lUMUQyheogwYhtdQ_p8aBDNG9fg=/680x440/filters:fill(auto,1)/rent_house_73089751-5bfc333346e0fb002602ddbe.jpg",title:"Image title"}),Object($.jsxs)(se.a,{className:t.cardContent,children:[Object($.jsx)(de.a,{gutterBottom:!0,variant:"h5",component:"h2",children:e.name}),Object($.jsx)(de.a,{variant:"body1",component:"h2",children:e.description}),Object($.jsxs)(de.a,{variant:"h6",component:"h2",children:["Area: ",e.floorSize,"sq.ft"]}),Object($.jsxs)(de.a,{variant:"h6",component:"h2",children:["Rooms: ",e.rooms," rooms"]}),Object($.jsxs)(de.a,{variant:"h6",component:"h2",children:["Price: ",e.price,"/-"]}),Object($.jsx)(Be.a,{label:e.available?"For Sale":"Sold",color:e.available?"primary":"secondary"})]}),Se.canUpdateOrDeleteApartment(f,e)?Object($.jsxs)(ce.a,{children:[Object($.jsx)(Fe,{action:J.UpdateApartment,apartmentId:e.uuid,apartment:e}),Object($.jsx)(Ae.a,{className:t.icon,fontSize:"large",color:"secondary",onClick:function(t){return ze(e)}})]}):" "]})},e.uuid)}))}):Object($.jsx)(Qe,{apartments:k})})]}),U===Q.ListView?Object($.jsx)("footer",{className:t.footer,children:Object($.jsx)(ue.a,{container:!0,direction:"row",justify:"center",alignItems:"center",children:Object($.jsx)(O.a,{variant:"contained",color:"primary",onClick:Object(p.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(s+1);case 2:Me(s+1,Z.LoadMore);case 3:case"end":return e.stop()}}),e)}))),children:"Load More..."})})}):""]})}i.a.configure();var Xe=Object(w.h)((function(){return Object($.jsx)("div",{className:"App",children:Object($.jsx)(Ye,{})})})),Ze=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,282)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),r(e),n(e),c(e),s(e)}))},$e=a(277),et=a(61),tt=a.n(et),at=a(256),rt=a(280),nt=a(274),ct=ze.object({username:ze.string().min(3).required(),email:ze.string().email().required(),password:ze.string().min(3).required(),role:ze.string().valid("client","realtor").default("client").required()}),st=ze.object({email:ze.string().email().required(),password:ze.string().min(3).required()}),it=ze.object({username:ze.string().min(3),email:ze.string().email(),password:ze.string().min(3),role:ze.string().valid("client","realtor","admin")}),ot=function(){function e(){Object(U.a)(this,e)}return Object(A.a)(e,null,[{key:"validateUsername",value:function(e){return ze.validate(e,st)}},{key:"validateUserUpdateSchema",value:function(e){return ze.validate(e,it)}},{key:"validateUserCreateSchema",value:function(e){return ze.validate(e,ct)}}]),e}(),ut=Object(xe.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));var lt=Object(xe.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));var dt=Object(w.h)((function(){var e=lt(),t=Object(r.useState)(""),a=Object(b.a)(t,2),n=a[0],c=a[1],s=Object(r.useState)(""),o=Object(b.a)(s,2),u=o[0],l=o[1],d=Object(r.useState)(""),m=Object(b.a)(d,2),h=m[0],f=m[1],x=Object(r.useState)(!1),v=Object(b.a)(x,2),g=v[0],k=v[1],y=Object(N.c)(T),C=Object(b.a)(y,2),U=(C[0],C[1]),A=Object(w.g)();function I(){return(I=Object(p.a)(j.a.mark((function e(t){var a,r,c,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=ot.validateUsername({email:n,password:u}),r=a.error,c=a.value,!r){e.next=6;break}f(r.details[0].message),e.next=21;break;case 6:return f(""),k(!0),e.next=10,E.login({email:c.email,password:c.password});case 10:if(s=e.sent,k(!1),s.success){e.next=17;break}return f(s.message),e.abrupt("return");case 17:i.a.success(G.SignInSuccess,{position:"top-right",autoClose:3e3,closeOnClick:!0});case 18:B.setJWTToken(s.data.jwtToken),U(s.data.user),A.push("/");case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object($.jsxs)(je.a,{component:"main",maxWidth:"xs",children:[Object($.jsx)(oe.a,{}),Object($.jsxs)("div",{className:e.paper,children:[Object($.jsx)($e.a,{className:e.avatar,children:Object($.jsx)(tt.a,{})}),Object($.jsx)(de.a,{component:"h1",variant:"h5",children:"Sign in"}),Object($.jsxs)("form",{className:e.form,noValidate:!0,children:[Object($.jsx)(ye.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,onChange:function(e){return c(e.target.value)}}),Object($.jsx)(ye.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){return l(e.target.value)}}),Object($.jsx)(_e.a,{control:Object($.jsx)(Le.a,{value:"remember"}),label:"Remember me"}),Object($.jsx)(we.a,{color:"error.main",children:h}),Object($.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:g?Object($.jsx)(Ce.a,{}):""}),Object($.jsx)(O.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:function(e){return function(e){return I.apply(this,arguments)}(e)},children:"Sign In"}),Object($.jsxs)(ue.a,{container:!0,children:[Object($.jsx)(ue.a,{item:!0,xs:!0}),Object($.jsx)(ue.a,{item:!0,children:Object($.jsx)(S.b,{to:"/signup",variant:"body2",children:"Don't have an account? Sign Up"})})]}),Object($.jsxs)(ue.a,{container:!0,children:[Object($.jsx)(ue.a,{item:!0,xs:!0}),Object($.jsx)(ue.a,{item:!0})]})]})]}),Object($.jsx)(we.a,{mt:8})]})})),jt=a(268),pt=a(270),bt=a(265),mt=a(267),Ot=a(269),ht=a(266),ft=a(136);function xt(e){var t=ge(),a=Object(r.useState)(""),c=Object(b.a)(a,2),s=c[0],o=c[1],l=Object(r.useState)(),d=Object(b.a)(l,2),m=d[0],h=d[1],x=Object(r.useState)(),v=Object(b.a)(x,2),g=v[0],k=v[1],y=Object(r.useState)(),C=Object(b.a)(y,2),w=C[0],S=C[1],U=Object(r.useState)(),A=Object(b.a)(U,2),T=A[0],I=A[1],_=n.a.useState(!1),L=Object(b.a)(_,2),D=L[0],M=L[1],z=Object(N.c)(W),q=Object(b.a)(z,2),P=q[0],R=q[1],F=Object(r.useState)(!1),B=Object(b.a)(F,2),H=B[0],J=B[1],Q=function(){M(!0)},Y=function(){M(!1),o("")},X=function(){var e=Object(p.a)(j.a.mark((function e(t){var a,r,n,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a={username:m,email:g,password:w,role:T},r=ot.validateUserCreateSchema(a,ct),n=r.error,r.value,!n){e.next=7;break}o(n.details[0].message),e.next=19;break;case 7:return o(""),J(!0),e.next=11,E.createUser(a);case 11:if(c=e.sent,J(!1),c.success){e.next=16;break}return i.a.error(c.message,{position:"top-right",autoClose:3e3,closeOnClick:!0}),e.abrupt("return");case 16:R([c.data.newUser].concat(Object(u.a)(P))),i.a.success(G.userCreatedSuccess,{position:"top-right",autoClose:3e3,closeOnClick:!0}),Y();case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=Object(p.a)(j.a.mark((function e(t,a){var r,n,c,s,u;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),r={username:m,email:g,password:w,role:T},n=ot.validateUserUpdateSchema(r),c=n.error,n.value,!c){e.next=7;break}o(c.details[0].message),e.next=20;break;case 7:return o(""),J(!0),e.next=11,E.updateUser(r,a);case 11:if(s=e.sent,J(!1),s.success){e.next=16;break}return i.a.error(s.message,{position:"top-right",autoClose:3e3,closeOnClick:!0}),e.abrupt("return");case 16:u=P.map((function(e){return e.uuid===a?s.data:e})),R(u),i.a.success(G.userUpdateSuccess,{position:"top-right",autoClose:3e3,closeOnClick:!0}),Y();case 20:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return Object($.jsxs)("div",{children:[e.action==K.CreateUser?Object($.jsxs)(O.a,{variant:"contained",color:"secondary",onClick:Q,children:[Object($.jsx)(We.a,{className:t.icon,fontSize:"large"}),"Create New User"]}):Object($.jsx)(Me.a,{className:t.icon,fontSize:"large",color:"primary",cursor:"pointer",onClick:Q}),Object($.jsx)(Ne.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:t.modal,open:D,onClose:Y,closeAfterTransition:!0,BackdropProps:{timeout:500},children:Object($.jsx)(Te.a,{in:D,children:Object($.jsx)("div",{className:t.paper,children:Object($.jsxs)(je.a,{component:"main",maxWidth:"xs",children:[Object($.jsx)(oe.a,{}),Object($.jsxs)("div",{className:t.paper,children:[Object($.jsx)(de.a,{component:"h1",variant:"h5",children:e.action===K.CreateUser?"Create New User":"Update Existing user"}),Object($.jsxs)("form",{className:t.form,noValidate:!0,children:[Object($.jsxs)(ue.a,{container:!0,spacing:2,children:[Object($.jsx)(ue.a,{item:!0,xs:12,children:Object($.jsx)(ye.a,{variant:"outlined",required:!0,fullWidth:!0,label:"Name",autoFocus:!0,onChange:function(e){return h(e.target.value)}})}),Object($.jsx)(ue.a,{item:!0,xs:12,children:Object($.jsx)(ye.a,{variant:"outlined",required:!0,fullWidth:!0,label:"Email",autoFocus:!0,onChange:function(e){return k(e.target.value)}})}),Object($.jsx)(ue.a,{item:!0,xs:12,children:Object($.jsx)(ye.a,{type:"password",variant:"outlined",required:!0,fullWidth:!0,label:"Password",autoFocus:!0,onChange:function(e){return S(e.target.value)}})}),Object($.jsx)(ue.a,{item:!0,xs:12,children:Object($.jsxs)(at.a,{className:t.formControl,children:[Object($.jsx)(rt.a,{id:"demo-simple-select-label",children:"Role"}),Object($.jsxs)(nt.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:T,style:{width:"140px"},onChange:function(e){return I(e.target.value)},children:[Object($.jsx)(f.a,{value:V.CLIENT,children:V.CLIENT}),Object($.jsx)(f.a,{value:V.REALTOR,children:V.REALTOR}),Object($.jsx)(f.a,{value:V.ADMIN,children:V.ADMIN})]})]})})]}),Object($.jsx)(we.a,{color:"error.main",children:s}),Object($.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:H?Object($.jsx)(Ce.a,{}):""}),Object($.jsx)(O.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:function(t){return e.action===K.CreateUser?X(t):Z(t,e.userId)},children:e.action===K.CreateUser?"Create New User":"Update Existing user"})]})]}),Object($.jsx)(we.a,{mt:5})]})})})})]})}var vt=Object(m.a)((function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:14}}}))(bt.a),gt=Object(m.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(ht.a),kt=Object(xe.a)({table:{width:"85%",margin:"auto",marginTop:20,marginBottom:50},appbar:{marginBottom:"250px",color:"black"},icon:{marginRight:"10px",cursor:"pointer"},title:{display:"flex",flexGrow:1,justifyContent:"center"},footer:{padding:"20px"}});function yt(){var e=kt(),t=Object(N.c)(T),a=Object(b.a)(t,2),c=a[0],s=a[1],o=Object(N.c)(W),l=Object(b.a)(o,2),d=l[0],m=l[1],h=n.a.useState(!1),f=Object(b.a)(h,2),x=(f[0],f[1],n.a.useState(!1)),v=Object(b.a)(x,2),g=(v[0],v[1],Object(r.useState)(!1)),k=Object(b.a)(g,2),y=k[0],C=k[1],w=Object(r.useState)(1),U=Object(b.a)(w,2),A=U[0],I=U[1];Object(r.useEffect)(Object(p.a)(j.a.mark((function e(){var t,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.getCurrentUser();case 2:return t=e.sent,s(t.data.authUser),e.next=6,_(A);case 6:a=e.sent,m(a);case 8:case"end":return e.stop()}}),e)}))),[]);var _=function(){var e=Object(p.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!B.getJWTToken()){e.next=10;break}return C(!0),e.next=4,E.getUsers(t);case 4:if(a=e.sent,C(!1),a.success){e.next=9;break}return i.a.error(a.message,{position:"top-right",autoClose:3e3,closeOnClick:!0}),e.abrupt("return",[]);case 9:return e.abrupt("return",a.data);case 10:return e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(p.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.deleteUser(t);case 2:if((a=e.sent).success){e.next=6;break}return i.a.error(a.message,{position:"top-right",autoClose:3e3,closeOnClick:!0}),e.abrupt("return");case 6:m(d.filter((function(e){return e.uuid!==t.uuid}))),i.a.success(G.userDeltedSuccess,{position:"top-right",autoClose:3e3,closeOnClick:!0});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object($.jsxs)("div",{children:[Object($.jsx)(re.a,{position:"relative",children:Object($.jsxs)(le.a,{children:[Object($.jsx)(S.b,{to:"/",style:{color:"white"},children:Object($.jsx)(be.a,{className:e.icon,fontSize:"large"})}),Object($.jsx)(de.a,{variant:"h6",color:"inherit",className:e.title,noWrap:!0,children:"Appartment Finder"}),Object($.jsx)(ae,{name:c.username})]})}),Object($.jsxs)(we.a,{display:"flex",p:1,children:[Object($.jsx)(we.a,{p:1,flexGrow:1}),Object($.jsx)(we.a,{m:4,children:Object($.jsx)(xt,{p:1,action:K.CreateUser})})]}),Object($.jsx)(mt.a,{component:ft.a,children:Object($.jsxs)(jt.a,{className:e.table,"aria-label":"customized table",children:[Object($.jsx)(Ot.a,{children:Object($.jsxs)(ht.a,{children:[Object($.jsx)(vt,{align:"center",children:"S.No"}),Object($.jsx)(vt,{align:"center",children:"Name"}),Object($.jsx)(vt,{align:"center",children:"Email"}),Object($.jsx)(vt,{align:"center",children:"Role"}),Object($.jsx)(vt,{align:"center",children:"Update"}),Object($.jsx)(vt,{align:"center",children:"Delete"})]})}),Object($.jsx)(pt.a,{children:d.map((function(t,a){return Object($.jsxs)(gt,{children:[Object($.jsx)(vt,{align:"center",children:a+1}),Object($.jsx)(vt,{align:"center",component:"th",scope:"row",children:t.username}),Object($.jsx)(vt,{align:"center",children:t.email}),Object($.jsx)(vt,{align:"center",children:t.role}),Object($.jsx)(vt,{align:"center",children:Object($.jsx)(xt,{action:K.UpdateUser,userId:t.uuid})}),Object($.jsx)(vt,{align:"center",children:Object($.jsx)(Ae.a,{className:e.icon,fontSize:"large",color:"secondary",cursor:"pointer",onClick:function(e){return L(t)}})})]},t.uuid)}))})]})}),Object($.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:y?Object($.jsx)(Ce.a,{}):""}),Object($.jsx)("footer",{className:e.footer,children:Object($.jsx)(ue.a,{container:!0,direction:"row",justify:"center",alignItems:"center",children:Object($.jsx)(O.a,{variant:"contained",color:"primary",onClick:Object(p.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I(A+1);case 2:return e.next=4,_(A+1);case 4:t=e.sent,m([].concat(Object(u.a)(d),Object(u.a)(t)));case 6:case"end":return e.stop()}}),e)}))),children:"Load More..."})})})]})}var Ct=a(134);var wt=Object(w.h)((function(e){var t=e.Component,a=(e.path,e.isAuth,Object(Ct.a)(e,["Component","path","isAuth"])),n=Object(N.c)(T),c=Object(b.a)(n,2),s=c[0],i=c[1],o=Object(r.useState)(!0),u=Object(b.a)(o,2),d=u[0],m=u[1];return Object(w.g)(),Object(r.useEffect)((function(){(function(){var e=Object(p.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.username){e.next=9;break}if(B.getJWTToken()){e.next=5;break}i({}),e.next=9;break;case 5:return e.next=7,E.getCurrentUser();case 7:(t=e.sent).success?i(t.data.authUser):i({});case 9:m(!1);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),d?Object($.jsx)("div",{}):s&&s.username?"/"===a.location.pathname?Object($.jsx)(w.b,{render:function(e){return Object($.jsx)(Xe,Object(l.a)({},e))}}):"/users"==a.location.pathname&&s.role===V.ADMIN?Object($.jsx)(w.b,{render:function(e){return Object($.jsx)(yt,{})}}):Object($.jsx)(w.a,{to:{pathname:"/",state:{from:a.location}}}):s.username?void 0:"/signin"==a.location.pathname||"/signup"===a.location.pathname?Object($.jsx)(w.b,{render:function(e){return Object($.jsx)(t,Object(l.a)({},e))}}):Object($.jsx)(w.a,{to:{pathname:"/signin",state:{from:a.location}}})}));s.a.render(Object($.jsx)(n.a.Fragment,{children:Object($.jsx)(N.a,{children:Object($.jsx)(S.a,{children:Object($.jsxs)(w.d,{children:[Object($.jsx)(wt,{path:"/signup",exact:!0,Component:function(e){var t=ut(),a=Object(r.useState)(""),c=Object(b.a)(a,2),s=c[0],o=c[1],l=Object(r.useState)(),d=Object(b.a)(l,2),m=d[0],h=d[1],x=Object(r.useState)(),v=Object(b.a)(x,2),g=v[0],k=v[1],y=Object(r.useState)(),C=Object(b.a)(y,2),w=C[0],U=C[1],A=Object(r.useState)(),T=Object(b.a)(A,2),I=T[0],_=T[1],L=n.a.useState(!1),D=Object(b.a)(L,2),M=(D[0],D[1],Object(N.c)(W)),z=Object(b.a)(M,2),q=z[0],P=z[1],R=Object(r.useState)(!1),F=Object(b.a)(R,2),B=F[0],H=F[1],J=function(){var e=Object(p.a)(j.a.mark((function e(t){var a,r,n,c,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a={username:m,email:g,password:w,role:I},r=ot.validateUserCreateSchema(a,ct),n=r.error,c=r.value,console.log(n,c),!n){e.next=8;break}o(n.details[0].message),e.next=20;break;case 8:return o(""),H(!0),e.next=12,E.createUser(a);case 12:if(s=e.sent,console.log(s),H(!1),s.success){e.next=18;break}return i.a.error(s.message,{position:"top-right",autoClose:3e3,closeOnClick:!0}),e.abrupt("return");case 18:P([].concat(Object(u.a)(q),[s.data.newUser])),i.a.success(G.userCreatedSuccess,{position:"top-right",autoClose:3e3,closeOnClick:!0});case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object($.jsxs)(je.a,{component:"main",maxWidth:"xs",children:[Object($.jsx)(oe.a,{}),Object($.jsxs)("div",{className:t.paper,children:[Object($.jsx)($e.a,{className:t.avatar,children:Object($.jsx)(tt.a,{})}),Object($.jsx)(de.a,{component:"h1",variant:"h5",children:"Sign up"}),Object($.jsxs)("form",{className:t.form,noValidate:!0,children:[Object($.jsxs)(ue.a,{container:!0,spacing:2,children:[Object($.jsx)(ue.a,{item:!0,xs:12,children:Object($.jsx)(ye.a,{variant:"outlined",required:!0,fullWidth:!0,label:"Name",autoFocus:!0,onChange:function(e){return h(e.target.value)}})}),Object($.jsx)(ue.a,{item:!0,xs:12,children:Object($.jsx)(ye.a,{variant:"outlined",required:!0,fullWidth:!0,label:"Email",autoFocus:!0,onChange:function(e){return k(e.target.value)}})}),Object($.jsx)(ue.a,{item:!0,xs:12,children:Object($.jsx)(ye.a,{type:"password",variant:"outlined",required:!0,fullWidth:!0,label:"Password",autoFocus:!0,onChange:function(e){return U(e.target.value)}})}),Object($.jsxs)(ue.a,{item:!0,xs:12,children:[Object($.jsxs)(at.a,{className:t.formControl,children:[Object($.jsx)(rt.a,{id:"demo-simple-select-label",children:"Role"}),Object($.jsxs)(nt.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:"Role",onChange:function(e){return _(e.target.value)},children:[Object($.jsx)(f.a,{value:V.CLIENT,children:V.CLIENT}),Object($.jsx)(f.a,{value:V.REALTOR,children:V.REALTOR})]})]}),Object($.jsx)(we.a,{color:"error.main",children:s}),Object($.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:B?Object($.jsx)(Ce.a,{}):""})]})]}),Object($.jsx)(O.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:function(e){return J(e)},children:"SignUp"}),Object($.jsx)(ue.a,{container:!0,justify:"flex-end",children:Object($.jsx)(ue.a,{item:!0,children:Object($.jsx)(S.b,{to:"/signin",children:"Already have an account? Sign in"})})})]})]}),Object($.jsx)(we.a,{mt:5})]})}}),Object($.jsx)(wt,{path:"/users",exact:!0,component:yt,role:V.ADMIN}),Object($.jsx)(wt,{path:"/signin",Component:dt}),Object($.jsx)(wt,{path:"/",Component:Xe})]})})})}),document.getElementById("root")),Ze()}},[[205,1,2]]]);
//# sourceMappingURL=main.a84f33ed.chunk.js.map